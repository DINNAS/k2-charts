apiVersion: v1
kind: Secret
metadata:
  name: {{ template "fullname" . }}
  labels:
    app: {{ template "fullname" . }}
    chart: "{{ .Chart.Name }}-{{ .Chart.Version }}"
    release: "{{ .Release.Name }}"
    heritage: "{{ .Release.Service }}"
type: Opaque
data:
  .dockerconfigjson: ewoJImF1dGhzIjogewoJCSJodHRwczovL2FwcGVuZ2luZS5nY3IuaW8iOiB7CgkJCSJhdXRoIjogImIyRjFkR2d5WVdOalpYTnpkRzlyWlc0NmVXRXlPUzVEYWtKeVFUWjFaR3R2UTI0NGJIUnRUM2x6U201eFVtZHBSMDVGWlVScGVVVnFhRlprZW5Kbk5qaEdZM2xNWmtkd1RrdEtkMUpOYkdKaFVGOXdSa1UzYVdGciIsCgkJCSJlbWFpbCI6ICJub3RAdmFsLmlkIgoJCX0sCgkJImh0dHBzOi8vYXNpYS5nY3IuaW8iOiB7CgkJCSJhdXRoIjogImIyRjFkR2d5WVdOalpYTnpkRzlyWlc0NmVXRXlPUzVEYWtKeVFYcFlNRUpGTlRSVFlrRkplRGxEY0ZBM05VaDFXVFJzUm1GSWEzWkhRVWhVUTJ0WGFtWlZRbVJJTjJjeE5rVjJkREkyTFVzM1owZEVWVGw2UVZvdyIsCgkJCSJlbWFpbCI6ICJub3RAdmFsLmlkIgoJCX0sCgkJImh0dHBzOi8vYi5nY3IuaW8iOiB7CgkJCSJhdXRoIjogImIyRjFkR2d5WVdOalpYTnpkRzlyWlc0NmVXRXlPUzVEYWtKeVFYcFlNRUpGTlRSVFlrRkplRGxEY0ZBM05VaDFXVFJzUm1GSWEzWkhRVWhVUTJ0WGFtWlZRbVJJTjJjeE5rVjJkREkyTFVzM1owZEVWVGw2UVZvdyIsCgkJCSJlbWFpbCI6ICJub3RAdmFsLmlkIgoJCX0sCgkJImh0dHBzOi8vYnVja2V0Lmdjci5pbyI6IHsKCQkJImF1dGgiOiAiYjJGMWRHZ3lZV05qWlhOemRHOXJaVzQ2ZVdFeU9TNURha0p5UVhwWU1FSkZOVFJUWWtGSmVEbERjRkEzTlVoMVdUUnNSbUZJYTNaSFFVaFVRMnRYYW1aVlFtUklOMmN4TmtWMmRESTJMVXMzWjBkRVZUbDZRVm93IiwKCQkJImVtYWlsIjogIm5vdEB2YWwuaWQiCgkJfSwKCQkiaHR0cHM6Ly9ldS5nY3IuaW8iOiB7CgkJCSJhdXRoIjogImIyRjFkR2d5WVdOalpYTnpkRzlyWlc0NmVXRXlPUzVEYWtKeVFYcFlNRUpGTlRSVFlrRkplRGxEY0ZBM05VaDFXVFJzUm1GSWEzWkhRVWhVUTJ0WGFtWlZRbVJJTjJjeE5rVjJkREkyTFVzM1owZEVWVGw2UVZvdyIsCgkJCSJlbWFpbCI6ICJub3RAdmFsLmlkIgoJCX0sCgkJImh0dHBzOi8vZ2NyLmlvIjogewoJCQkiYXV0aCI6ICJiMkYxZEdneVlXTmpaWE56ZEc5clpXNDZlV0V5T1M1RGFrSnlRWHBZTUVKRk5UUlRZa0ZKZURsRGNGQTNOVWgxV1RSc1JtRklhM1pIUVVoVVEydFhhbVpWUW1SSU4yY3hOa1YyZERJMkxVczNaMGRFVlRsNlFWb3ciLAoJCQkiZW1haWwiOiAibm90QHZhbC5pZCIKCQl9LAoJCSJodHRwczovL2djci5rdWJlcm5ldGVzLmlvIjogewoJCQkiYXV0aCI6ICJiMkYxZEdneVlXTmpaWE56ZEc5clpXNDZlV0V5T1M1RGFrSnlRVFoxWkd0dlEyNDRiSFJ0VDNselNtNXhVbWRwUjA1RlpVUnBlVVZxYUZaa2VuSm5OamhHWTNsTVprZHdUa3RLZDFKTmJHSmhVRjl3UmtVM2FXRnIiLAoJCQkiZW1haWwiOiAibm90QHZhbC5pZCIKCQl9LAoJCSJodHRwczovL3VzLmdjci5pbyI6IHsKCQkJImF1dGgiOiAiYjJGMWRHZ3lZV05qWlhOemRHOXJaVzQ2ZVdFeU9TNURha0p5UVhwWU1FSkZOVFJUWWtGSmVEbERjRkEzTlVoMVdUUnNSbUZJYTNaSFFVaFVRMnRYYW1aVlFtUklOMmN4TmtWMmRESTJMVXMzWjBkRVZUbDZRVm93IiwKCQkJImVtYWlsIjogIm5vdEB2YWwuaWQiCgkJfSwKCQkicXVheS5pbyI6IHsKCQkJImF1dGgiOiAiYW1abGJIUmxianBEUUhCMFFISXhjeTVqTUcwPSIKCQl9Cgl9LAoJIkh0dHBIZWFkZXJzIjogewoJCSJVc2VyLUFnZW50IjogIkRvY2tlci1DbGllbnQvMS4xMi4xIChkYXJ3aW4pIgoJfQp9
  {{ if .Values.Jenkins.Master.AdminPassword }}
  jenkins-admin-password: {{ .Values.Master.AdminPassword | b64enc | quote }}
  {{ else }}
  jenkins-admin-password: {{ randAlphaNum 10 | b64enc | quote }}
  {{ end }}
  jenkins-admin-user: {{ .Values.Jenkins.Master.AdminUser | b64enc | quote }}
